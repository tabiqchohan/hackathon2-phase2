module.exports=[12466,a=>{"use strict";var b=a.i(87924);function c({children:a,variant:c="primary",size:d="md",loading:e=!1,className:f="",...g}){let h=`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${{primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[c]} ${{sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-base px-4 py-2"}[d]} ${e?"opacity-50 cursor-not-allowed":""} ${f}`;return(0,b.jsx)("button",{className:h,...g,disabled:e||g.disabled,children:e?(0,b.jsxs)("span",{className:"flex items-center",children:[(0,b.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):a})}a.s(["default",()=>c])},18180,a=>{"use strict";var b=a.i(87924);function c({label:a,error:c,className:d="",...e}){return(0,b.jsxs)("div",{children:[a&&(0,b.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:a}),(0,b.jsx)("input",{className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm ${c?"border-red-500":""} ${d}`,...e}),c&&(0,b.jsx)("p",{className:"mt-1 text-sm text-red-600",children:c})]})}a.s(["default",()=>c])},29478,a=>{"use strict";var b=a.i(87924);function c({size:a="md",centered:c=!1,label:d}){let e=(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsxs)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[a]} text-indigo-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,b.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,b.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),d&&(0,b.jsx)("span",{className:"ml-2 text-gray-600",children:d})]});return c?(0,b.jsx)("div",{className:"flex items-center justify-center",children:e}):e}a.s(["default",()=>c])},20731,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(69734),e=a.i(53250);function f({task:a,token:d,onTaskUpdated:f,onTaskDeleted:g}){let[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(a.title),[l,m]=(0,c.useState)(a.description||""),[n,o]=(0,c.useState)(!1),[p,q]=(0,c.useState)(null),r=async()=>{if(d)try{o(!0);let b=await e.apiClient.updateTask(d,a.id,{...a,completed:!a.completed});f(b)}catch(a){console.error("Error updating task:",a),q("Failed to update task")}finally{o(!1)}},s=async()=>{if(d&&window.confirm("Are you sure you want to delete this task?"))try{o(!0),await e.apiClient.deleteTask(d,a.id),g(a.id)}catch(a){console.error("Error deleting task:",a),q("Failed to delete task")}finally{o(!1)}},t=async()=>{if(d)try{o(!0);let b=await e.apiClient.updateTask(d,a.id,{title:j,description:l});f(b),i(!1)}catch(a){console.error("Error saving task:",a),q("Failed to save task")}finally{o(!1)}};return(0,b.jsxs)("li",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center",children:[(0,b.jsx)("input",{type:"checkbox",checked:a.completed,onChange:r,disabled:n,className:"h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),(0,b.jsx)("div",{className:"ml-3 min-w-0",children:h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"text",value:j,onChange:a=>k(a.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mb-2"}),(0,b.jsx)("textarea",{value:l,onChange:a=>m(a.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",rows:2})]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("p",{className:`text-sm font-medium text-gray-900 ${a.completed?"line-through text-gray-500":""}`,children:a.title}),a.description&&(0,b.jsx)("p",{className:`text-sm text-gray-500 ${a.completed?"line-through":""}`,children:a.description})]})})]}),(0,b.jsxs)("div",{className:"flex items-center space-x-2",children:[h?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("button",{onClick:t,disabled:n,className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-green-100 text-green-800 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Save"}),(0,b.jsx)("button",{onClick:()=>{i(!1),k(a.title),m(a.description||"")},className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]}):(0,b.jsx)("button",{onClick:()=>i(!0),className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),(0,b.jsx)("button",{onClick:s,disabled:n,className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-red-100 text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]}),p&&(0,b.jsx)("div",{className:"mt-2 text-sm text-red-600",children:p})]})}function g({children:a,className:c=""}){return(0,b.jsx)("div",{className:`bg-white shadow rounded-lg overflow-hidden ${c}`,children:a})}g.Header=function({children:a,className:c=""}){return(0,b.jsx)("div",{className:`px-4 py-5 sm:px-6 border-b border-gray-200 ${c}`,children:a})},g.Body=function({children:a,className:c=""}){return(0,b.jsx)("div",{className:`px-4 py-5 sm:p-6 ${c}`,children:a})};var h=a.i(12466);function i({tasks:a,token:d,onTaskUpdated:e,onTaskDeleted:i}){let[j,k]=(0,c.useState)("all"),l=a.filter(a=>"active"===j?!a.completed:"completed"!==j||a.completed);return(0,b.jsxs)(g,{children:[(0,b.jsxs)(g.Header,{children:[(0,b.jsx)("div",{className:"flex justify-between items-center",children:(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Your Tasks"}),(0,b.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your todo items"})]})}),(0,b.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,b.jsx)(h.default,{variant:"all"===j?"primary":"secondary",size:"sm",onClick:()=>k("all"),children:"All"}),(0,b.jsx)(h.default,{variant:"active"===j?"primary":"secondary",size:"sm",onClick:()=>k("active"),children:"Active"}),(0,b.jsx)(h.default,{variant:"completed"===j?"primary":"secondary",size:"sm",onClick:()=>k("completed"),children:"Completed"})]})]}),(0,b.jsx)(g.Body,{children:0===l.length?(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-gray-500",children:"No tasks found. Add a new task to get started!"})}):(0,b.jsx)("ul",{className:"divide-y divide-gray-200",children:l.map(a=>(0,b.jsx)(f,{task:a,token:d,onTaskUpdated:e,onTaskDeleted:i},a.id))})})]})}var j=a.i(18180);function k({onTaskCreated:a,token:d}){let[f,i]=(0,c.useState)(""),[k,l]=(0,c.useState)(""),[m,n]=(0,c.useState)(!1),[o,p]=(0,c.useState)(null),q=async b=>{if(b.preventDefault(),f.trim()&&d)try{n(!0),p(null);let b=await e.apiClient.createTask(d,f,k);a(b),i(""),l("")}catch(a){console.error("Error creating task:",a),p("Failed to create task. Please try again.")}finally{n(!1)}};return(0,b.jsxs)(g,{children:[(0,b.jsx)(g.Header,{children:(0,b.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Task"})}),(0,b.jsx)(g.Body,{children:(0,b.jsx)("div",{className:"mt-4",children:(0,b.jsxs)("form",{onSubmit:q,children:[(0,b.jsx)("div",{className:"mb-4",children:(0,b.jsx)(j.default,{id:"title",value:f,onChange:a=>i(a.target.value),required:!0,placeholder:"What needs to be done?",label:"Title *"})}),(0,b.jsxs)("div",{className:"mb-4",children:[(0,b.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,b.jsx)("textarea",{id:"description",value:k,onChange:a=>l(a.target.value),rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Add details..."})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)(h.default,{type:"submit",loading:m,disabled:!f.trim(),children:m?"Adding...":"Add Task"}),o&&(0,b.jsx)("div",{className:"text-sm text-red-600 ml-2",children:o})]})]})})})]})}var l=a.i(29478);function m(){let{user:a,token:f,logout:g}=(0,d.useAuth)(),[h,j]=(0,c.useState)([]),[m,n]=(0,c.useState)(!0),[o,p]=(0,c.useState)(null);return((0,c.useEffect)(()=>{f&&(async()=>{try{let a=await e.apiClient.getTasks(f);j(a)}catch(a){if(console.error("Error fetching tasks:",a),a instanceof Error&&a.message.includes("Unauthorized"))return void g();p("Failed to load tasks")}finally{n(!1)}})()},[f,g]),a)?m?(0,b.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)(l.default,{size:"lg",centered:!0,label:"Loading dashboard..."})})}):(0,b.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,b.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Todo Dashboard"})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[(0,b.jsx)("div",{children:(0,b.jsx)(k,{onTaskCreated:a=>{j(b=>[a,...b])},token:f})}),(0,b.jsxs)("div",{children:[o&&(0,b.jsx)("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:(0,b.jsx)("div",{className:"text-sm text-red-700",children:o})}),(0,b.jsx)(i,{tasks:h,token:f,onTaskUpdated:a=>{j(b=>b.map(b=>b.id===a.id?a:b))},onTaskDeleted:a=>{j(b=>b.filter(b=>b.id!==a))}})]})]})]})}):(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Redirecting..."}),(0,b.jsx)("p",{className:"mt-2 text-gray-600",children:"You need to be logged in"})]})})}a.s(["default",()=>m],20731)}];

//# sourceMappingURL=_77e3cbba._.js.map