(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,76525,e=>{"use strict";var t=e.i(43476);function s({children:e,variant:s="primary",size:r="md",loading:i=!1,className:a="",...n}){let l=`inline-flex items-center justify-center rounded-md font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 ${{primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[s]} ${{sm:"text-xs px-2.5 py-1.5",md:"text-sm px-3 py-2",lg:"text-base px-4 py-2"}[r]} ${i?"opacity-50 cursor-not-allowed":""} ${a}`;return(0,t.jsx)("button",{className:l,...n,disabled:i||n.disabled,children:i?(0,t.jsxs)("span",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading..."]}):e})}e.s(["default",()=>s])},1206,e=>{"use strict";var t=e.i(43476);function s({label:e,error:s,className:r="",...i}){return(0,t.jsxs)("div",{children:[e&&(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:e}),(0,t.jsx)("input",{className:`block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm ${s?"border-red-500":""} ${r}`,...i}),s&&(0,t.jsx)("p",{className:"mt-1 text-sm text-red-600",children:s})]})}e.s(["default",()=>s])},9715,e=>{"use strict";var t=e.i(43476);function s({size:e="md",centered:s=!1,label:r}){let i=(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsxs)("svg",{className:`animate-spin ${{sm:"h-4 w-4",md:"h-8 w-8",lg:"h-12 w-12"}[e]} text-indigo-600`,xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),r&&(0,t.jsx)("span",{className:"ml-2 text-gray-600",children:r})]});return s?(0,t.jsx)("div",{className:"flex items-center justify-center",children:i}):i}e.s(["default",()=>s])},78928,e=>{"use strict";var t=e.i(43476),s=e.i(71645),r=e.i(45356),i=e.i(54858);function a({task:e,token:r,onTaskUpdated:a,onTaskDeleted:n}){let[l,d]=(0,s.useState)(!1),[c,o]=(0,s.useState)(e.title),[m,x]=(0,s.useState)(e.description||""),[u,g]=(0,s.useState)(!1),[h,f]=(0,s.useState)(null),p=async()=>{if(r)try{g(!0);let t=await i.apiClient.updateTask(r,e.id,{...e,completed:!e.completed});a(t)}catch(e){console.error("Error updating task:",e),f("Failed to update task")}finally{g(!1)}},y=async()=>{if(r&&window.confirm("Are you sure you want to delete this task?"))try{g(!0),await i.apiClient.deleteTask(r,e.id),n(e.id)}catch(e){console.error("Error deleting task:",e),f("Failed to delete task")}finally{g(!1)}},j=async()=>{if(r)try{g(!0);let t=await i.apiClient.updateTask(r,e.id,{title:c,description:m});a(t),d(!1)}catch(e){console.error("Error saving task:",e),f("Failed to save task")}finally{g(!1)}};return(0,t.jsxs)("li",{className:"px-4 py-4 sm:px-6 hover:bg-gray-50",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex items-center",children:[(0,t.jsx)("input",{type:"checkbox",checked:e.completed,onChange:p,disabled:u,className:"h-4 w-4 text-indigo-600 rounded border-gray-300 focus:ring-indigo-500"}),(0,t.jsx)("div",{className:"ml-3 min-w-0",children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("input",{type:"text",value:c,onChange:e=>o(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm mb-2"}),(0,t.jsx)("textarea",{value:m,onChange:e=>x(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",rows:2})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("p",{className:`text-sm font-medium text-gray-900 ${e.completed?"line-through text-gray-500":""}`,children:e.title}),e.description&&(0,t.jsx)("p",{className:`text-sm text-gray-500 ${e.completed?"line-through":""}`,children:e.description})]})})]}),(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("button",{onClick:j,disabled:u,className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-green-100 text-green-800 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500",children:"Save"}),(0,t.jsx)("button",{onClick:()=>{d(!1),o(e.title),x(e.description||"")},className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-gray-100 text-gray-800 hover:bg-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500",children:"Cancel"})]}):(0,t.jsx)("button",{onClick:()=>d(!0),className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-blue-100 text-blue-800 hover:bg-blue-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",children:"Edit"}),(0,t.jsx)("button",{onClick:y,disabled:u,className:"inline-flex items-center px-2.5 py-0.5 rounded border border-transparent text-xs font-medium bg-red-100 text-red-800 hover:bg-red-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",children:"Delete"})]})]}),h&&(0,t.jsx)("div",{className:"mt-2 text-sm text-red-600",children:h})]})}function n({children:e,className:s=""}){return(0,t.jsx)("div",{className:`bg-white shadow rounded-lg overflow-hidden ${s}`,children:e})}n.Header=function({children:e,className:s=""}){return(0,t.jsx)("div",{className:`px-4 py-5 sm:px-6 border-b border-gray-200 ${s}`,children:e})},n.Body=function({children:e,className:s=""}){return(0,t.jsx)("div",{className:`px-4 py-5 sm:p-6 ${s}`,children:e})};var l=e.i(76525);function d({tasks:e,token:r,onTaskUpdated:i,onTaskDeleted:d}){let[c,o]=(0,s.useState)("all"),m=e.filter(e=>"active"===c?!e.completed:"completed"!==c||e.completed);return(0,t.jsxs)(n,{children:[(0,t.jsxs)(n.Header,{children:[(0,t.jsx)("div",{className:"flex justify-between items-center",children:(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-lg leading-6 font-medium text-gray-900",children:"Your Tasks"}),(0,t.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Manage your todo items"})]})}),(0,t.jsxs)("div",{className:"mt-4 flex space-x-2",children:[(0,t.jsx)(l.default,{variant:"all"===c?"primary":"secondary",size:"sm",onClick:()=>o("all"),children:"All"}),(0,t.jsx)(l.default,{variant:"active"===c?"primary":"secondary",size:"sm",onClick:()=>o("active"),children:"Active"}),(0,t.jsx)(l.default,{variant:"completed"===c?"primary":"secondary",size:"sm",onClick:()=>o("completed"),children:"Completed"})]})]}),(0,t.jsx)(n.Body,{children:0===m.length?(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)("p",{className:"text-gray-500",children:"No tasks found. Add a new task to get started!"})}):(0,t.jsx)("ul",{className:"divide-y divide-gray-200",children:m.map(e=>(0,t.jsx)(a,{task:e,token:r,onTaskUpdated:i,onTaskDeleted:d},e.id))})})]})}var c=e.i(1206);function o({onTaskCreated:e,token:r}){let[a,d]=(0,s.useState)(""),[o,m]=(0,s.useState)(""),[x,u]=(0,s.useState)(!1),[g,h]=(0,s.useState)(null),f=async t=>{if(t.preventDefault(),a.trim()&&r)try{u(!0),h(null);let t=await i.apiClient.createTask(r,a,o);e(t),d(""),m("")}catch(e){console.error("Error creating task:",e),h("Failed to create task. Please try again.")}finally{u(!1)}};return(0,t.jsxs)(n,{children:[(0,t.jsx)(n.Header,{children:(0,t.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:"Add New Task"})}),(0,t.jsx)(n.Body,{children:(0,t.jsx)("div",{className:"mt-4",children:(0,t.jsxs)("form",{onSubmit:f,children:[(0,t.jsx)("div",{className:"mb-4",children:(0,t.jsx)(c.default,{id:"title",value:a,onChange:e=>d(e.target.value),required:!0,placeholder:"What needs to be done?",label:"Title *"})}),(0,t.jsxs)("div",{className:"mb-4",children:[(0,t.jsx)("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{id:"description",value:o,onChange:e=>m(e.target.value),rows:3,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 sm:text-sm",placeholder:"Add details..."})]}),(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsx)(l.default,{type:"submit",loading:x,disabled:!a.trim(),children:x?"Adding...":"Add Task"}),g&&(0,t.jsx)("div",{className:"text-sm text-red-600 ml-2",children:g})]})]})})})]})}var m=e.i(9715);function x(){let{user:e,token:a,logout:n}=(0,r.useAuth)(),[l,c]=(0,s.useState)([]),[x,u]=(0,s.useState)(!0),[g,h]=(0,s.useState)(null);return((0,s.useEffect)(()=>{a&&(async()=>{try{let e=await i.apiClient.getTasks(a);c(e)}catch(e){if(console.error("Error fetching tasks:",e),e instanceof Error&&e.message.includes("Unauthorized"))return void n();h("Failed to load tasks")}finally{u(!1)}})()},[a,n]),e)?x?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsx)(m.default,{size:"lg",centered:!0,label:"Loading dashboard..."})})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,t.jsxs)("main",{className:"mx-auto max-w-7xl px-4 py-6 sm:px-6 lg:px-8",children:[(0,t.jsx)("div",{className:"mb-8",children:(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight text-gray-900",children:"Todo Dashboard"})}),(0,t.jsxs)("div",{className:"grid grid-cols-1 gap-8 md:grid-cols-2",children:[(0,t.jsx)("div",{children:(0,t.jsx)(o,{onTaskCreated:e=>{c(t=>[e,...t])},token:a})}),(0,t.jsxs)("div",{children:[g&&(0,t.jsx)("div",{className:"mb-4 rounded-md bg-red-50 p-4",children:(0,t.jsx)("div",{className:"text-sm text-red-700",children:g})}),(0,t.jsx)(d,{tasks:l,token:a,onTaskUpdated:e=>{c(t=>t.map(t=>t.id===e.id?e:t))},onTaskDeleted:e=>{c(t=>t.filter(t=>t.id!==e))}})]})]})]})}):(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Redirecting..."}),(0,t.jsx)("p",{className:"mt-2 text-gray-600",children:"You need to be logged in"})]})})}e.s(["default",()=>x],78928)}]);